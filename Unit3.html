<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å–®å…ƒä¸‰ - å¥æª¢å ±å‘Š</title>
</head>

<body>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const savedData = localStorage.getItem("finalData");

            if (!savedData) {
                document.body.innerHTML = "<p>âŒ æ²’æœ‰æ‰¾åˆ°è³‡æ–™ï¼Œè«‹å¾ä»»å‹™é é¢é‡æ–°å¡«å¯«</p>";
                return;
            }

            const data = JSON.parse(savedData);

            // âœ… è§£æ§‹è³‡æ–™
            const treeHeight = data.measurement?.treeHeight;
            const treeDiameter = data.measurement?.treeDiameter;
            const branchCount = data.measurement?.branchCount;
            const selectedImg = data.healthSelection;
            const canvasMarks = data.marks || {};

            // âœ… é¡¯ç¤ºåŸºæœ¬è³‡æ–™
            const basicInfo = `
                <h2>ä½¿ç”¨è€…å¡«å¯«è³‡æ–™ï¼š</h2>
                <p>ğŸŒ³ æ¨£æ¨¹é«˜åº¦ï¼š${treeHeight ?? 'æœªå¡«å¯«'} å…¬å°º</p>
                <p>ğŸŒ² æ¨¹èƒ¸é«˜ç›´å¾‘ï¼š${treeDiameter ?? 'æœªå¡«å¯«'} å…¬å°º</p>
                <p>ğŸŒ¿ å¾’é•·ææ•¸é‡ï¼š${branchCount ?? 'æœªå¡«å¯«'} æ</p>
                <p>ğŸ–¼ï¸ é¸æ“‡çš„åœ–ç‰‡ä»£è™Ÿï¼š${selectedImg ?? 'æœªé¸æ“‡'}</p>
            `;

            // âœ… é¡¯ç¤º Canvas æ¨™è¨˜æ•¸é‡
            let canvasMarksHtml = "<h3>ğŸŸ  æ¨™è¨˜è³‡æ–™ï¼š</h3><ul>";
            for (const canvasId in canvasMarks) {
                canvasMarksHtml += `<li>${canvasId}ï¼š${canvasMarks[canvasId].length} ç­†æ¨™è¨˜</li>`;
            }
            canvasMarksHtml += "</ul>";

            // âœ… è¼¸å‡ºåˆ°ç•«é¢
            document.body.innerHTML = `
                <div style="padding: 20px; font-family: Arial, sans-serif;">
                ${basicInfo}
                ${canvasMarksHtml}
                </div>
            `;
        });
    </script>
</body>

</html>